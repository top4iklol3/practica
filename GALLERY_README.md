# Галерея фотографий

Галерея фотографий использует файловое хранилище как базу данных для отображения фотографий по годам.

## Структура хранения

Фотографии должны быть организованы в хранилище следующим образом:

```
Storage/
  └── gallery/
      ├── 2024/
      │   ├── photo1.jpg
      │   ├── photo2.png
      │   └── ...
      ├── 2023/
      │   ├── photo1.jpg
      │   └── ...
      └── 2022/
          └── ...
```

## Как использовать

1. **Запустите сервер хранилища:**
   ```bash
   dotnet run
   ```
   Сервер должен быть доступен на `http://localhost:5000`

2. **Загрузите фотографии через API или интерфейс хранилища:**
   - Перейдите в раздел "Хранилище" на сайте
   - Выберите или создайте ресурс с ключом `gallery`
   - Создайте папки по годам (например, `2024`, `2023`, и т.д.)
   - Загрузите фотографии в соответствующие папки

3. **Просматривайте галерею:**
   - Перейдите в раздел "Галерея" на сайте
   - Используйте фильтры по годам для просмотра фотографий
   - Кликните на фотографию для просмотра в полном размере

## API Endpoints

### Получить список годов
```
GET /api/gallery/years
```

Ответ:
```json
{
  "years": [2024, 2023, 2022, ...]
}
```

### Получить фотографии
```
GET /api/gallery/photos?year=2024
GET /api/gallery/photos  (все фотографии)
```

Ответ:
```json
{
  "photos": [
    {
      "filename": "photo1.jpg",
      "path": "2024/photo1.jpg",
      "filenameWithoutExtension": "photo1",
      "year": 2024,
      "url": "/api/resources/gallery/download?path=2024%2Fphoto1.jpg"
    },
    ...
  ],
  "year": 2024  // только если указан параметр year
}
```

## Поддерживаемые форматы изображений

- `.jpg`, `.jpeg`
- `.png`
- `.gif`
- `.bmp`
- `.webp`
- `.svg`

## Особенности

- Фотографии автоматически группируются по годам
- Фильтрация по годам работает в реальном времени
- Просмотр фотографий в полноэкранном режиме с навигацией
- Поддержка клавиатурной навигации (стрелки влево/вправо, Escape для закрытия)

